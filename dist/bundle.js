(()=>{"use strict";var e="https://openlibrary.org/search.json?title=";document.getElementById("searchButton").addEventListener("click",(function(){var t=document.getElementById("input").value.trim();t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){var t=document.getElementById("risultati-api");if(e.docs&&e.docs.length>0)for(var n=function(n){var o=document.createElement("h2");o.textContent=e.docs[n].title,t.appendChild(o);var r=document.createElement("p");r.textContent=e.docs[n].author_name[0],t.appendChild(r);var a=document.createElement("button");a.textContent="Clicca qui per la descrizione",a.classList.add("buttonSearch"),a.addEventListener("click",(function(){var o=document.createElement("p");o.src="https://openlibrary.org/api/books?bibkeys=ISBN:"+e.docs[n].isbn[0]+"&jscmd=details&format=json",t.appendChild(o)})),t.appendChild(a);var c=document.createElement("img");c.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[n].isbn[0],"-M.jpg"),t.appendChild(c)},o=0;o<Math.min(10,e.docs.length);o++)n(o);else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci un titolo valido")})),document.getElementById("submitSearchCategory").addEventListener("click",(function(){var t=document.getElementById("inputSearchCategory").value;t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){var t=document.getElementById("risultati-api");if(e.docs&&e.docs.length>0)for(var n=0;n<Math.min(10,e.docs.length);n++){var o=document.createElement("h2");o.textContent=e.docs[n].title,t.appendChild(o);var r=document.createElement("p");r.textContent=e.docs[n].author_name[0],t.appendChild(r);var a=document.createElement("img");a.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[n].isbn[0],"-M.jpg"),t.appendChild(a)}else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci una categoria valida")})),document.getElementById("moreSearchButton").addEventListener("click",(function(){var e=document.getElementById("input").value.trim();e?fetch("".concat("https://openlibrary.org/search.json?title=").concat(e)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=11;11<t<Math.max(21,e.docs.length);t++){var n=document.getElementById("risultati-api"),o=document.createElement("h2");o.textContent=e.docs[t].title,n.appendChild(o);var r=document.createElement("p");r.textContent=e.docs[t].author_name[0],n.appendChild(r);var a=document.createElement("img");a.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(a)}else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci un titolo valido")}))})();