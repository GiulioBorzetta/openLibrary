(()=>{"use strict";var e="https://openlibrary.org/search.json?title=",t=document.getElementById("searchButton"),n=document.getElementById("risultati-api"),o=document.getElementById("descriptionBooks");t.addEventListener("click",(function(){var t=document.getElementById("input").value.trim();t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Error in API request: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var r=document.createElement("h2");r.textContent=e.docs[t].title,n.appendChild(r);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Click here for description",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,o.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,o.appendChild(n)}else{var r=document.createElement("p");r.textContent="There is no description for this book",o.appendChild(r)}var c=document.createElement("hr");c.classList.add("marginHr"),o.appendChild(c),console.log(e)})).catch((function(e){console.error("Error during request:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d),console.log(e.docs[t].key)},r=0;r<Math.min(10,e.docs.length);r++)t(r);else console.error('The JSON response does not contain a valid "docs" array.')})).catch((function(e){console.error("Error calling API:",e)})):console.error("Please enter a valid title")})),document.getElementById("submitSearchCategory").addEventListener("click",(function(){var t=document.getElementById("inputSearchCategory").value;t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Error in API request: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var r=document.createElement("h2");r.textContent=e.docs[t].title,n.appendChild(r);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Click here for description",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,o.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,o.appendChild(n)}else{var r=document.createElement("p");r.textContent="There is no description for this book",o.appendChild(r)}var c=document.createElement("hr");c.classList.add("marginHr"),o.appendChild(c),console.log(e)})).catch((function(e){console.error("Error during request:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d)},r=0;r<Math.min(10,e.docs.length);r++)t(r);else console.error('The JSON response does not contain a valid "docs" array.')})).catch((function(e){console.error("Error calling API:",e)})):console.error("Please enter a valid category")})),document.getElementById("moreSearchButton").addEventListener("click",(function(){var e=document.getElementById("input").value.trim();e?fetch("".concat("https://openlibrary.org/search.json?title=").concat(e)).then((function(e){if(!e.ok)throw new Error("Error in API request: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var r=document.createElement("h2");r.textContent=e.docs[t].title,n.appendChild(r);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Click here for description",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,o.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,o.appendChild(n)}else{var r=document.createElement("p");r.textContent="There is no description for this book",o.appendChild(r)}var c=document.createElement("hr");c.classList.add("marginHr"),o.appendChild(c),console.log(e)})).catch((function(e){console.error("Error during request:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d)},r=11;11<r<Math.max(21,e.docs.length);r++)t(r);else console.error('The JSON response does not contain a valid "docs" array.')})).catch((function(e){console.error("Error calling API:",e)})):console.error("Please enter a valid title")}))})();