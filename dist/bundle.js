(()=>{"use strict";var e="https://openlibrary.org/search.json?title=",t=document.getElementById("searchButton"),n=document.getElementById("risultati-api"),r=document.getElementById("descriptionBooks");t.addEventListener("click",(function(){var t=document.getElementById("input").value.trim();t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var o=document.createElement("h2");o.textContent=e.docs[t].title,n.appendChild(o);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Clicca qui per la descrizione",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,r.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,r.appendChild(n)}else{var o=document.createElement("p");o.textContent="non é presente alcuna descrizione per questo libro",r.appendChild(o)}var c=document.createElement("hr");c.classList.add("marginHr"),r.appendChild(c),console.log(e)})).catch((function(e){console.error("Errore durante la richiesta:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d),console.log(e.docs[t].key)},o=0;o<Math.min(10,e.docs.length);o++)t(o);else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci un titolo valido")})),document.getElementById("submitSearchCategory").addEventListener("click",(function(){var t=document.getElementById("inputSearchCategory").value;t?fetch("".concat(e).concat(t)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var o=document.createElement("h2");o.textContent=e.docs[t].title,n.appendChild(o);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Clicca qui per la descrizione",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,r.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,r.appendChild(n)}else{var o=document.createElement("p");o.textContent="non é presente alcuna descrizione per questo libro",r.appendChild(o)}var c=document.createElement("hr");c.classList.add("marginHr"),r.appendChild(c),console.log(e)})).catch((function(e){console.error("Errore durante la richiesta:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d)},o=0;o<Math.min(10,e.docs.length);o++)t(o);else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci una categoria valida")})),document.getElementById("moreSearchButton").addEventListener("click",(function(){var e=document.getElementById("input").value.trim();e?fetch("".concat("https://openlibrary.org/search.json?title=").concat(e)).then((function(e){if(!e.ok)throw new Error("Errore nella richiesta all'API: ".concat(e.status));return e.json()})).then((function(e){if(e.docs&&e.docs.length>0)for(var t=function(t){var o=document.createElement("h2");o.textContent=e.docs[t].title,n.appendChild(o);var c=document.createElement("hr");c.classList.add("marginHr"),n.appendChild(c);var a=document.createElement("p");a.textContent=e.docs[t].author_name[0],n.appendChild(a);var i=document.createElement("button");i.textContent="Clicca qui per la descrizione",i.classList.add("buttonSearch"),i.addEventListener("click",(function(){var n="https://openlibrary.org".concat(e.docs[t].key,".json");fetch(n).then((function(e){return e.json()})).then((function(e){if(e.description)if(e.description.value){var t=document.createElement("p");t.textContent=e.description.value,r.appendChild(t)}else{var n=document.createElement("p");n.textContent=e.description,r.appendChild(n)}else{var o=document.createElement("p");o.textContent="non é presente alcuna descrizione per questo libro",r.appendChild(o)}var c=document.createElement("hr");c.classList.add("marginHr"),r.appendChild(c),console.log(e)})).catch((function(e){console.error("Errore durante la richiesta:",e)}))})),n.appendChild(i);var d=document.createElement("img");d.src="https://covers.openlibrary.org/b/isbn/".concat(e.docs[t].isbn[0],"-M.jpg"),n.appendChild(d)},o=11;11<o<Math.max(21,e.docs.length);o++)t(o);else console.error('La risposta JSON non contiene un array "docs" valido.')})).catch((function(e){console.error("Errore durante la chiamata all'API:",e)})):console.error("Inserisci un titolo valido")}))})();